---
title: 五色云科技
date: 2021-08-26
tags:
---



## 文件操作

1)生成一个文件file1,每一行随机生成5个数字,数字之间用逗号隔开

2)读取文件fle1,计算并输出每一行数字的总和

```java
import com.sun.deploy.util.StringUtils;

import java.io.*;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.Random;

public class Demo1 {
    private static final String name = "file1";

    public static void writeNumbers() throws IOException {
        FileWriter writer = new FileWriter("file1");

        Random random = new Random();
        // 输入5行
        for (int i = 0; i < 5; i++) {
            List<String> list = new ArrayList<>();
            // 输入5个数字
            for (int j = 0; j < 5; j++) {
                list.add(String.valueOf(random.nextInt()));
            }
            String line = StringUtils.join(list, ",");
            writer.write(line + "\n");
        }
        writer.close();
    }

    public static void readNumbers() throws IOException {
        // 创建流
        FileReader reader = new FileReader("file1");
        BufferedReader bufferedReader = new BufferedReader(reader);
        // 数字list
        List<Integer> list = new ArrayList<>();
        // 读取 按行
        String line;
        while ((line = bufferedReader.readLine()) != null) {
            String[] split = line.split(",");
            List<String> asList = Arrays.asList(split);
            System.out.println(asList.stream().map(elem -> {
                return Integer.valueOf(elem);
            }).reduce(0, (a, b) -> {
                return a + b;
            }));
        }
        // 关闭流
        bufferedReader.close();
        reader.close();
    }

    public static void main(String[] args) throws IOException {
        writeNumbers();
        System.out.println("打印和");
        readNumbers();
    }
}

```



## 字符串查找函数实现

输入两个字符串A、B,找到B字符串在A字符串中出现的所有位置。如:
输入A:“Today is great day,B:“day”，返回列表[2,17]。如果没有找到,返回空列表。

```java
import java.util.ArrayList;
import java.util.List;

public class Demo2 {
    public static List findString(String input, String substring) {
        List<Integer> res = new ArrayList<>();

        for (int i = 0; i >= 0 && i < input.length(); i += substring.length()) {
            i = input.indexOf(substring, i);
            System.out.println("i = " + i);
            res.add(i);
        }
        return res;
    }

    public static void main(String[] args) {
        String input = "Today is a great day";
        String substring = "day";
        List res = findString(input, substring);
        System.out.println("res = " + res);
    }
}
```



## 写一个简易的爬虫。

1)抓取百度首页保存到文件 baidu_index.html中
2)并进一步解析该文件中所有的超链接输出到文件 baidu_link中,超链接用“,”分隔。

```java
import com.sun.deploy.util.StringUtils;
import org.jsoup.Jsoup;
import org.jsoup.nodes.Document;
import org.jsoup.nodes.Element;
import org.jsoup.select.Elements;

import java.io.FileWriter;
import java.io.IOException;
import java.util.ArrayList;
import java.util.List;

public class Demo3 {
    private static void writeHTML() throws IOException {
        Document document = Jsoup.connect("https://www.baidu.com").get();
        String html = document.html();
        FileWriter fw = new FileWriter("baidu_index.html");
        fw.write(html);
        fw.close();
    }

    private static void writeLink() throws IOException {
        Document document = Jsoup.connect("https://www.baidu.com").get();
        List<String> links = new ArrayList<>();
        Elements elements = document.select("a");

        FileWriter fw = new FileWriter("baidu_link");

        for (Element element : elements) {
            links.add(element.attributes().get("href"));
            String line = StringUtils.join(links, ", ");
            fw.write(line);
        }
        fw.close();
    }

    public static void main(String[] args) throws IOException {
        writeHTML();
        writeLink();
    }
}
```

